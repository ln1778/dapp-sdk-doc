<html>
    <head>
    <meta name="viewport" content="minimal-ui,width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no">
    <title>Dapp Demo</title>
    <style>
      h1 {
        font-size: 20px;
      }
  
      a {
        display: block;
        font-size: 20px;
        margin-top: 40px;
      }
  
      img {
        display: block;
      }
  
      section {
        background: #eee;
        margin: 20px 10px;
        padding: 10px;
      }
  
      section button {
        margin-bottom: 10px;
      }
  
      section pre {
        padding: 10px;
        overflow: auto;
        font-size: 16;
        line-height: 1.45;
        background-color: #f6f8fa;
        border-radius: 3px;
        white-space: pre-wrap;
      }
  
      button {
        padding: 10px 20px;
        display: block;
        background: #ccf;
        font-size: 16px;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
    <script>
      window.web3 = new Web3(window.ethereum)
      window.ethereum.enable().then(accounts => {
        window.accounts = accounts
      })
    </script>
  </head>
  
  <body>
    <h1 id="h1"> Dapp API Examples</h1>
  
    <img src="https://raw.githubusercontent.com/ln1778/dapp-sdk-doc/main/qrcode.png" style="width:150px;height:150px">
    <i>Use hwaToken2.0 DApp browser scan this qrCode to view exmaples.</i>
  
  
    <section>
      <button>navigator.closeDapp</button>
      <details open="">
        <summary>show code</summary>
        <pre>hwaToken.callAPI('navigator.closeDapp')
        </pre>
      </details>
    </section>
  
    <section>
      <button>navigator.goBack</button>
      <details open="">
        <summary>show code</summary>
        <pre>hwaToken.callAPI('navigator.goBack')
        </pre>
      </details>
    </section>
  
    <section>
      <button>navigator.toggleNavbar</button>
      <details>
        <summary>show code</summary>
        <pre>hwaToken.callAPI('navigator.toggleNavbar')
        </pre>
      </details>
    </section>
  
    <section>
      <button>navigator.getOrientation</button>
      <details>
        <summary>show code</summary>
        <pre>hwaToken.callAPI('navigator.getOrientation', function(err, result) {
      alert(result)
  })
        </pre>
      </details>
    </section>
  
    <section>
      <button>navigator.setOrientation landscape</button>
      <details>
        <summary>show code</summary>
        <pre>hwaToken.callAPI('navigator.setOrientation', 'landscape')
        </pre>
      </details>
    </section>
  
    <section>
      <button>navigator.setOrientation portrait</button>
      <details>
        <summary>show code</summary>
        <pre>hwaToken.callAPI('navigator.setOrientation', 'portrait')
        </pre>
      </details>
    </section>
  
  
  
  
    <section>
      <button>native.alert</button>
      <details>
        <summary>show code</summary>
        <pre>hwaToken.callAPI('native.alert', 'winner winner, chicken dinnerÔºÅ')
        </pre>
      </details>
    </section>
  
  
    <section>
      <button>native.selectPicture</button>
      <details>
        <summary>show code</summary>
        <pre>hwaToken.callAPI('native.selectPicture',{maxWidth: 400, maxHeight: 200}, function (err, ret) {
      if(err) {
        alert(err.message)
      } else {
        document.getElementById('imgContainer').src = ret.data
      }
    })
        </pre>
      </details>
    </section>
    <img id="imgContainer">
  
    <section>
      <button>native.setClipboard</button>
      <details>
        <summary>show code</summary>
        <pre> hwaToken.callAPI('native.setClipboard', 'are you ok?')
        </pre>
      </details>
    </section>
  
    <section>
      <button>native.share</button>
      <details>
        <summary>show code</summary>
        <pre>hwaToken.callAPI('native.share', {
    title: 'dapp example',
    message: 'this is example of dapp sdk',
    url: location.href,
  }, function (err, ret) {
    if(err) {
      alert('user not share')
    } else {
      alert('shared')
    }
  })
        </pre>
      </details>
    </section>
  
    <section>
      <button>native.scanQRCode</button>
      <details>
        <summary>show code</summary>
        <pre>hwaToken.callAPI('native.scanQRCode', function (err, ret) {
    if(err) {
      alert(err)
    } else {
      alert(ret)
    }
  })
        </pre>
      </details>
    </section>
  
    <section>
      <button>user.showAccountSwitch</button>
      <details>
        <summary>show code</summary>
        <pre>hwaToken.callAPI('user.showAccountSwitch', {
  }, function(err, address) {
    if(err) {
      alert(err)
    } else {
      alert(address)
    }
  })
        </pre>
      </details>
    </section>
  
    <section>
      <button>device.getCurrentLanguage</button>
      <details>
        <summary>show code</summary>
        <pre>hwaToken.callAPI('device.getCurrentLanguage', function(err, language) {
    if(err) {
      alert(err)
    } else {
      alert(language)
    }
  })
        </pre>
      </details>
    </section>
  
    <section>
      <button>device.getCurrentCurrency</button>
      <details>
        <summary>show code</summary>
        <pre>hwaToken.callAPI('device.getCurrentCurrency', function(err, currency) {
    if(err) {
      alert(err)
    } else {
      alert(currency)
    }
  })
        </pre>
      </details>
    </section>
  
  
  
  <script>
    window.alert = function (str) {
      hwaToken.callAPI('native.toastInfo', JSON.stringify(str));
    }
  
  
    var sections = document.querySelectorAll('section')
    var buttons = document.querySelectorAll('button')
    var pres = document.querySelectorAll('pre')
  
    for (var i = 0; i < buttons.length; i++) {
      var button = buttons[i];
      buttons[i].onclick = (function (j) {
        return function () {
          var code = pres[j].innerHTML
          var script = document.createElement('script')
          script.innerHTML = code
          document.head.appendChild(script)
        }
      }(i))
    }
  </script>
  
  
  </body></html>